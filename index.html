<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>G·ª≠i anh c·∫£ b·∫ßu tr·ªùi ƒë√™m üíå</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Mali:wght@400;700&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      padding: 0;
      background: black; 
      overflow: hidden;
      font-family: 'Mali', cursive, sans-serif;
    }

    #toggleMusicBtn {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 1000;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.3);
      color: white;
      cursor: pointer;
      font-size: 20px;
      line-height: 40px;
      text-align: center;
      padding: 0;
      display: block; 
    }
    
    #toggleMusicBtn:hover {
      background: rgba(255, 255, 255, 0.4);
    }

    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
      opacity: 0.8;
      animation: twinkle 2s infinite ease-in-out;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 1; }
    }

    /* === S·ª¨A KEYFRAME (1) - Th√™m l·∫Øc l∆∞ (sway) === */
    .bubble {
      position: absolute;
      font-size: 20px;
      font-weight: bold;
      color: #ffccff;
      animation: floatPath 10s linear infinite; /* ƒê·ªïi t√™n animation */
      opacity: 0.95;
      white-space: nowrap;
      text-shadow: none;
    }

    /* Th√™m c√°c bi·∫øn --x-sway-1 v√† --x-sway-2 s·∫Ω ƒë∆∞·ª£c JS cung c·∫•p */
    @keyframes floatPath {
      0%   { transform: translateY(0)    translateX(0px) scale(1); opacity: 0.2; }
      25%  { transform: translateY(-25vh) translateX(var(--x-sway-1, 20px)) scale(1.1); }
      50%  { transform: translateY(-50vh) translateX(var(--x-sway-2, -20px)) scale(1.2); opacity: 1; }
      75%  { transform: translateY(-80vh) translateX(var(--x-sway-1, 20px)) scale(1.2); }
      100% { transform: translateY(-120vh) translateX(0px) scale(1.3); opacity: 0; }
    }

    /* === S·ª¨A KEYFRAME (2) - Th√™m l·∫Øc l∆∞ (sway) === */
    .heart {
      position: absolute;
      color: #ff66cc;
      font-size: 16px;
      animation: floatHeartPath 6s linear infinite; /* ƒê·ªïi t√™n */
      opacity: 0.7;
    }

    @keyframes floatHeartPath {
      0%   { transform: translateY(0)    translateX(0px) scale(1); opacity: 0; }
      25%  { transform: translateY(-25vh) translateX(var(--x-sway-1, -30px)) scale(1.1); }
      50%  { opacity: 1; transform: translateY(-50vh) translateX(var(--x-sway-2, 30px)) scale(1.3); }
      75%  { transform: translateY(-75vh) translateX(var(--x-sway-1, -30px)) scale(1.1); }
      100% { transform: translateY(-100vh) translateX(0px) scale(0.8); opacity: 0; }
    }

    /* === S·ª¨A KEYFRAME (3) - Th√™m l·∫Øc l∆∞ (sway) === */
    .falling {
      position: absolute;
      font-size: 24px;
      font-weight: bold;
      color: #ffd6ff;
      white-space: nowrap;
      text-shadow: 0 0 10px #ff66cc;
      opacity: 0.9;
      top: 0; 
      animation: fallZoomPath 4s ease-in-out forwards; /* ƒê·ªïi t√™n */
    }

    @keyframes fallZoomPath {
      0%   { transform: translateY(-50px) translateX(var(--x-sway-start, 0px)) scale(0.5); opacity: 0; }
      50%  { opacity: 1; transform: translateY(40vh) translateX(var(--x-sway-mid, 0px)) scale(2); }
      100% { transform: translateY(100vh) translateX(var(--x-sway-end, 0px)) scale(0.8); opacity: 0; }
    }
    
    /* === S·ª¨A KEYFRAME (4) - Th√™m l·∫Øc l∆∞ (sway) === */
    .floating-image {
      position: absolute;
      width: 60px;
      height: auto;
      animation: floatImagePath 12s linear infinite; /* ƒê·ªïi t√™n */
      opacity: 0.8;
      z-index: -1;
    }

    @keyframes floatImagePath {
      0%   { transform: translateY(0)    translateX(0px) rotate(-10deg) scale(0.8); opacity: 0; }
      25%  { transform: translateY(-25vh) translateX(var(--x-sway-1, 30px)) rotate(0deg) scale(1); }
      50%  { transform: translateY(-50vh) translateX(var(--x-sway-2, -30px)) rotate(10deg) scale(1.2); opacity: 1; }
      75%  { transform: translateY(-80vh) translateX(var(--x-sway-1, 30px)) rotate(0deg) scale(1); }
      100% { transform: translateY(-120vh) translateX(0px) rotate(-10deg) scale(0.8); opacity: 0; }
    }
  </style>
</head>
<body>

  <audio id="myAudio" loop>
    <source src="image/TEN_FILE_NHAC_CUA_BAN.mp3" type="audio/mpeg">
    Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph√°t audio.
  </audio>
  
  <button id="toggleMusicBtn">üîá</button>

  <script>
    const numStars = 150;
    for (let i = 0; i < numStars; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      star.style.top = Math.random() * 100 + 'vh';
      star.style.left = Math.random() * 100 + 'vw';
      star.style.animationDuration = (Math.random() * 3 + 2) + 's';
      document.body.appendChild(star);
    }
  </script>

  <script>
    function createHeart() {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.style.left = Math.random() * 90 + "vw";
      heart.style.bottom = (Math.random() * 20 - 10) + "px"; 
      heart.style.fontSize = (Math.random() * 20 + 10) + "px";
      heart.textContent = "üíñ";
      
      // === S·ª¨A JS (1) - Th√™m t·ªëc ƒë·ªô v√† qu·ªπ ƒë·∫°o ng·∫´u nhi√™n ===
      const duration = Math.random() * 4 + 5; // T·ªëc ƒë·ªô ng·∫´u nhi√™n 5-9s
      const sway1 = Math.random() * 60 - 30; // -30px ƒë·∫øn +30px
      const sway2 = Math.random() * 60 - 30; // -30px ƒë·∫øn +30px
      
      heart.style.animationDuration = duration + 's';
      heart.style.setProperty('--x-sway-1', sway1 + 'px');
      heart.style.setProperty('--x-sway-2', sway2 + 'px');
      
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), duration * 1000); // X√≥a theo th·ªùi gian ng·∫´u nhi√™n
    }
    setInterval(createHeart, 1000);
  </script>

  <script>
    // === S·ª¨A JS (2) - Th√™m nhi·ªÅu tin nh·∫Øn h∆°n ===
    const messages = [
      "üå∏ Em y√™u anh!", "üíå Anh l√† ng∆∞·ªùi ƒë·∫∑c bi·ªát nh·∫•t!", "üåü Ch√∫c ch·ªìng iu 19-11 vui v·∫ª!", "üíò Em y√™u anh",
      "üåå Tr·∫ßn Thanh B√¨nh!", "üå∑ M√£i b√™n c·∫°nh nhau nh√©!", "I love you",
      "üí´ Y√™u anh l√† ƒëi·ªÅu ƒë√∫ng ƒë·∫Øn nh·∫•t",
      "üíû C√πng n·∫Øm tay nhau nha", "üíí M√£i m√£i b√™n nhau nh√© anh"
    ];
    
    let lastBubbleIndex = -1; // Bi·∫øn ƒë·ªÉ ch·ªëng l·∫∑p

    function createBubble() {
      // Logic ch·ªëng l·∫∑p
      let newIndex = Math.floor(Math.random() * messages.length);
      while (messages.length > 1 && newIndex === lastBubbleIndex) {
        newIndex = Math.floor(Math.random() * messages.length);
      }
      lastBubbleIndex = newIndex;

      const bubble = document.createElement("div");
      bubble.className = "bubble";
      bubble.textContent = messages[newIndex]; // D√πng tin nh·∫Øn m·ªõi
      bubble.style.left = Math.random() * 90 + "vw";
      bubble.style.bottom = "0px";
      bubble.style.fontSize = (Math.random() * 16 + 18) + "px";
      
      // === S·ª¨A JS (3) - Th√™m t·ªëc ƒë·ªô v√† qu·ªπ ƒë·∫°o ng·∫´u nhi√™n ===
      const duration = Math.random() * 5 + 8; // T·ªëc ƒë·ªô ng·∫´u nhi√™n 8-13s
      const sway1 = Math.random() * 50 - 25; // -25px ƒë·∫øn +25px
      const sway2 = Math.random() * 50 - 25; // -25px ƒë·∫øn +25px
      
      bubble.style.animationDuration = duration + 's';
      bubble.style.setProperty('--x-sway-1', sway1 + 'px');
      bubble.style.setProperty('--x-sway-2', sway2 + 'px');
      
      document.body.appendChild(bubble);
      setTimeout(() => bubble.remove(), duration * 1000); // X√≥a theo th·ªùi gian ng·∫´u nhi√™n
    }
    setInterval(createBubble, 700);
  </script>

  <script>
    // === S·ª¨A JS (4) - Th√™m nhi·ªÅu tin nh·∫Øn h∆°n ===
    const fallMessages = [
      "üåü Ch√∫c ch·ªìng iu 19-11 vui v·∫ª!", "üíò Em y√™u anh",
      "üåå Tr·∫ßn Thanh B√¨nh!", "üå∑ M√£i b√™n c·∫°nh nhau nh√©!", "I love you",
      "üí´ Y√™u anh l√† ƒëi·ªÅu ƒë√∫ng ƒë·∫Øn nh·∫•t",
      "üíû C√πng n·∫Øm tay nhau nha", "üíí M√£i m√£i b√™n nhau nh√© anh"
    ];
    
    let lastFallIndex = -1; // Bi·∫øn ch·ªëng l·∫∑p

    function createFallingMessage() {
      // Logic ch·ªëng l·∫∑p
      let newIndex = Math.floor(Math.random() * fallMessages.length);
      while (fallMessages.length > 1 && newIndex === lastFallIndex) {
        newIndex = Math.floor(Math.random() * fallMessages.length);
      }
      lastFallIndex = newIndex;

      const fall = document.createElement("div");
      fall.className = "falling";
      fall.textContent = fallMessages[newIndex];
      fall.style.left = Math.random() * 80 + "vw";
      
      // === S·ª¨A JS (5) - Th√™m qu·ªπ ƒë·∫°o ng·∫´u nhi√™n ===
      const duration = Math.random() * 2 + 4; // T·ªëc ƒë·ªô ng·∫´u nhi√™n 4-6s
      const swayStart = Math.random() * 40 - 20; // -20px ƒë·∫øn +20px
      const swayMid = Math.random() * 100 - 50;  // -50px ƒë·∫øn +50px
      const swayEnd = Math.random() * 40 - 20;   // -20px ƒë·∫øn +20px
      
      fall.style.animationDuration = duration + 's';
      fall.style.setProperty('--x-sway-start', swayStart + 'px');
      fall.style.setProperty('--x-sway-mid', swayMid + 'px');
      fall.style.setProperty('--x-sway-end', swayEnd + 'px');

      document.body.appendChild(fall);
      setTimeout(() => fall.remove(), duration * 1000); // X√≥a theo th·ªùi gian ng·∫´u nhi√™n
    }

    setInterval(() => {
      if (Math.random() < 0.7) createFallingMessage();
    }, 5000);
  </script>
  
  <script>
    const imageSources = [
      'image/a1.jpg', 'image/a2.jpg', 'image/a3.jpg',
      'image/a4.jpg', 'image/a5.jpg'
    ];
    function createFloatingImage() {
      const img = document.createElement("img");
      img.className = "floating-image";
      img.src = imageSources[Math.floor(Math.random() * imageSources.length)];
      img.style.left = Math.random() * 90 + "vw";
      img.style.bottom = "-100px";
      
      // === S·ª¨A JS (6) - Th√™m qu·ªπ ƒë·∫°o ng·∫´u nhi√™n ===
      const duration = Math.random() * 8 + 10;
      const sway1 = Math.random() * 80 - 40; // -40px ƒë·∫øn +40px
      const sway2 = Math.random() * 80 - 40; // -40px ƒë·∫øn +40px
      
      img.style.animationDuration = duration + "s";
      img.style.setProperty('--x-sway-1', sway1 + 'px');
      img.style.setProperty('--x-sway-2', sway2 + 'px');
      
      document.body.appendChild(img);
      setTimeout(() => img.remove(), duration * 1000);
    }
    setInterval(createFloatingImage, 3000);
  </script>
  
  
  <script>
    window.addEventListener('load', function() {
      var audio = document.getElementById('myAudio');
      var toggleBtn = document.getElementById('toggleMusicBtn');
      var playPromise = audio.play();
      if (playPromise !== undefined) {
        playPromise.then(_ => {
          toggleBtn.textContent = 'üîä';
        }).catch(error => {});
      }
      toggleBtn.onclick = function() {
        if (audio.paused) {
          audio.play();
          toggleBtn.textContent = 'üîä';
        } else {
          audio.pause();
          toggleBtn.textContent = 'üîá';
        }
      };
    });
  </script>

</body>
</html>


